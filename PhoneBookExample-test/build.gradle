apply plugin: 'java'
apply plugin: 'org.akhikhl.wuff.eclipse-ide-bundle'

dependencies {
  compile "${eclipseMavenGroup}:org.eclipse.core.commands:+"
  compile project(':PhoneBookExample')
  compile 'junit:junit:3.8.2'
}

jar {
  manifest {
    instruction 'Bundle-RequiredExecutionEnvironment', 'JavaSE-1.6'
    instruction 'Bundle-Version', project.version
  }
}

task integTest(type: org.gradle.tooling.pde.RunPDETest,
        dependsOn: [':intTestImage:buildProduct_linux_x86_64', ':intTestImage:prepareRunConfig']) {
    inputs.files project(':intTestImage').task(':prepareRunConfig').outputs
    intImageTestProject project(':intTestImage')
}